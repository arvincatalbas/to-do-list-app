# Project Rules: TodoFlow Mobile App

## Tech Stack
- **Framework:** React Native with Expo (SDK 50+)
- **Routing:** Expo Router (File-based navigation)
- **Language:** TypeScript
- **State Management:** Zustand (preferred) or React Context
- **Storage:** Expo SQLite or AsyncStorage for local persistence

## Architecture & Folder Structure
- **Routing:** All routes must reside in `/app`. Use Route Groups (e.g., `(tabs)`) for organizational clarity.
- **Source Code:** All non-route logic must reside in `/src`.
  - `/src/components`: UI components (Atomic design preferred).
  - `/src/hooks`: Custom hooks for logic.
  - `/src/store`: State management files.
- **Styling:** Use NativeWind (Tailwind CSS for React Native) where possible. Fallback to StyleSheet for complex animations.

## Coding Standards
- Use **Functional Components** and Hooks.
- Prioritize **FlatList** for lists to ensure mobile performance.
- Use **SafeViewArea** to handle device notches and status bars.
- Export components as `export default function Name() {}`.

## Development Workflow
- Always check for existing types in `@types` or local interfaces before creating new ones.
- When adding a new screen, always create the file in `/app` and update the relevant `_layout.tsx`.

## Project folder structure
my-todo-app/
├── app/                  <-- Expo Router Entry
│   ├── (tabs)/           <-- Route Group for Tab navigation
│   │   ├── _layout.tsx   <-- Defines the Bottom Tabs with AuthGuard
│   │   ├── index.tsx     <-- The main Todo List (Active Tasks)
│   │   ├── settings.tsx  <-- Completed Tasks screen
│   │   ├── archive.tsx   <-- Archived Tasks screen
│   │   └── profile.tsx   <-- User Profile screen
│   ├── _layout.tsx       <-- Root Layout (Providers, Stack, AuthRedirect)
│   ├── sign-in.tsx       <-- Sign In screen
│   ├── sign-up.tsx       <-- Sign Up screen
│   ├── profile.tsx       <-- Standalone Profile screen
│   ├── +not-found.tsx    <-- 404 Error page
│   └── +html.tsx         <-- HTML template
├── src/
│   ├── components/       <-- Reusable UI components
│   │   ├── TodoItem.tsx  <-- Task item with edit/archive/restore
│   │   ├── ThemeToggle.tsx <-- Theme switcher component
│   │   ├── AuthGuard.tsx <-- Authentication guard component
│   │   ├── AuthRedirect.tsx <-- Initial auth routing
│   │   └── ExternalLink.tsx <-- External link component
│   ├── contexts/         <-- React Context providers
│   │   ├── ThemeContext.tsx <-- Theme management context
│   │   └── AuthContext.tsx <-- Authentication context
│   ├── hooks/            <-- Custom logic hooks
│   │   ├── useClientOnlyValue.ts
│   │   └── useClientOnlyValue.web.ts
│   ├── store/            <-- State management
│   │   ├── useTodoStore.ts <-- Todo state management (Zustand)
│   │   └── .gitkeep
│   └── constants/        <-- App constants and configs
├── assets/               <-- Static assets
│   ├── fonts/            <-- Custom fonts
│   └── images/           <-- Images and icons
├── .git/                 <-- Git repository
├── .vscode/              <-- VS Code settings
│   ├── extensions.json
│   └── settings.json
├── app.json              <-- Expo configuration
├── package.json          <-- Dependencies and scripts
├── package-lock.json     <-- Lock file for dependencies
└── .windsurfrules        <-- Development guidelines

## Critical Config (package.json)
For Expo Router to work, your package.json must point to the router entry point:

{
  "main": "expo-router/entry",
  "dependencies": {
    "expo-router": "~3.x.x",
    ...
  }
}